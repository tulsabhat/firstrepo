// Poem data
const poems = [
    {
        id: 1,
        title: " अन्तिम युद्ध",
        author: "तुल्सा भाट",
        description: "वियोगको मौनता, सम्झनाको उज्यालो। एक आत्माको अन्तिम यात्रामा प्रेम, पीडा र सन्देशको गहिरो कथा।",    
     image: "behuli.png",
        background: "ChatGPT Image Jun 23, 2025, 05_02_17 AM.png",
        
        text: ` 
बोल्न सकिन, भन्न सकिन<br>
अझैनि केही गर्न सकिन <br>
<br>

समय सकिँदै थियो,<br>
अन्तिम युद्ध थियो,<br>
मोड़ दुई थियो,<br>
पर्खाइ मेरै थियो <br>
 <br>

आमाबुबाको मन आत्तिँदै थियो,<br>
नकारात्मक विचार आइरहेको थियो,<br>
उता मेरो सास रोकिँदै थियो <br>
 <br>

सिउँदो भरिएको थियो,<br>
रातो कपडामा सजाइएको थियो,<br>
बाजा बजिरहेको थियो,<br>
सबैको आँखा रसाइरहेको थियो <br>
 <br>

उनको मनको टुक्रा टाढिँदै थियो,<br>
संगीत गुञ्जिनै रहेको थियो<br>
पाऊँमा पायल, हातमा मेहन्दी र रातो चुरा थियो,<br>
बाजा बजिनै रहेको थियो <br>
 <br>

मलाई सजाएकी थियो,<br>
डोलीमा राखेको थियो,<br>
तर मेरो जन्ती हैन मलामी थियो<br>
 <br>

दाउरौ दाउरा बिच खापिएकी थिए,<br>
अग्नीको प्रतिक्षामा थिए,<br>
रंगीन रंगहरू उजाडिँदै थिए,<br>
बोझहरू कम गराउँदै थिए <br>
<br>


आमाको पीडा आश्रु बनी झरिरहेका थिए,<br>
बुबा चुपचाप थिए,<br>
समाज हेरीरहेको थियो,<br>
आफ्नाको कुरा नै  थियो<br>
<br>

आमाको पीडा स्वर बनी निस्कियो,<br>
बुबाको शब्द नै निस्कीएन, <br>
आमाको स्वरलाई समाजले पीडा बुझेछ, <br>
शब्दविहीन बुबालाई दोषी ठानेछ<br>
<br>

भाइको आँखामा पहिलो चोटि आश्रु देखें,<br>
म प्रति प्रेम देखें,<br>
दिदी रुदै हुनुहुन्थ्यो, <br>
एकचोटि उठेर "दिदी" भनीदेऊन भन्दै हुनुहुन्थ्यो <br>
<br> 

भाइ ठूलो भइसकेछ,<br>
सबैलाई सान्त्वना दिएछ,<br>
बुबालाई एक्लै रोएको देखेछ,<br>
बुबाको आँखामा पहिलोचोटि आश्रु देखेछ <br>
<br>

सबैबाट टाढा भइसकेकी थिई,<br>
नफर्किने गरेर गइसकेकी थिई,<br>
शब्दविहीन म, सबै चुपचाप हेरीरहेकी थिए <br>
<br>

भाइ ठूलो भएछ,<br>
घरको जिम्मेवारी बाट्ने भएछ,<br>
दिदीको साथी बनेछ,<br>
दुख:सुखमा हात बटाउने भएछ<br>
<br>


अन्तिम उद्धाको अन्तिम चरणमा थिएँ,<br>
साथ नभए स्मृतिमा थिएँ,<br>
शरीर मौन थियो, अस्तित्व बलिरहेको थियो,<br>
वातावरण चिसिँदै, शरीर ततिँदै थियो |<br>
<br>

शब्द सकिसकेको थियो, म मौन थिएँ,<br>
चिता को ज्वालामा शून्य भएर उज्यालो बनेकी थिएँ ||<br>

<br>

`

    }
    
    ,
        
    {
        id: 2,
        title: "उ को हो??",
        author: "तुल्सा भाट",
        description: " आत्मसंशयसँगको सङ्घर्ष, पहिचानको खोजी र भावनात्मक द्वन्द्वको गहिरो यात्रा ",    
     image: "koho img.png",
        background: "bg.jpg",
        text:
        `
अचम्मकी छे,<br>
आकाशमा चराहरु देख्दा खुसी हुन्छे,<br>
पिंजडामा देख्दा दुःखी,<br>
अरुभन्दा बेग्लै छे या विचित्र??<br>    
<br>

सबैलाई आफ्नो ठान्छे,<br>
सबैलाई राम्रो गर्छे,<br>
आशा राख्छे अरुबाट—<br>
तर निराशा दैनिकी पाउँछे।<br>
<br>

अरूको आँखा पढी विवरण निकाल्छे,<br>
आफ्नो आँखा हेर्न डराउँछे,<br>
अरूको निम्ती दर्पण बन्छे,<br>
आफु दर्पण अगी आउन डराउँछे।<br>
<br>


सबैलाई विश्वासिलो पात्र मान्छे,<br>
विश्वासघाती आफैं बन्छे,<br>
बारम्बार धोका पाउँछे,<br>
त्यैनी सबमा विश्वास गर्छे।<br>
<br>

"उ" ले "उ" लाई प्रश्न गर्छे,<br>
जवाफमा अर्को प्रश्न पाउँछे,<br>
दर्पणमा  "उ" देख्दिने,<br>
मुस्कानमा पुरा "उ" भेट्दिने।<br>
<br>

"उ" को हो??<br>
सायद चञ्चल, सायद आतरङ्गी,<br>
खुला किताब हो कि रहस्यमय ग्रन्थ,<br>
कि रहस्य यात्रा??,<br>
जसको अन्तिम पृष्ठ कहिल्यै खुल्दैन,<br>
पहिचान खोज्दै हराएको आफैँमा,<br>
"उ" ले "उ" भित्र एउटै आत्मा पाउँदैन <br>
<br>

        
       `

    }

    
        
];

// DOM elements
const poemsGrid = document.getElementById('poemsGrid');
const modal = document.getElementById('poemModal');
const modalOverlay = document.getElementById('modalOverlay');
const modalClose = document.getElementById('modalClose');
const modalPoemTitle = document.getElementById('modalPoemTitle');
const modalPoemAuthor = document.getElementById('modalPoemAuthor');
const modalPoemText = document.getElementById('modalPoemText');

// Generate poem cards
function generatePoemCards() {
    poemsGrid.innerHTML = poems.map(poem => `
        <div class="poem-card" data-poem-id="${poem.id}">
            <img src="${poem.image}" alt="${poem.title}" class="poem-card-image">
            <div class="poem-card-content">
                <h3 class="poem-card-title">${poem.title}</h3>
                <p class="poem-card-author">by ${poem.author}</p>
                <p class="poem-card-description">${poem.description}</p>
                <a href="#" class="read-more">Read Full Poem</a>
            </div>
        </div>
    `).join('');
    
    // Add click events to poem cards
    document.querySelectorAll('.poem-card').forEach(card => {
        card.addEventListener('click', (e) => {
            e.preventDefault();
            const poemId = parseInt(card.dataset.poemId);
            openPoemModal(poemId);
        });
    });
}

// Open poem modal
function openPoemModal(poemId) {
    const poem = poems.find(p => p.id === poemId);
    if (!poem) return;
    
    modalPoemTitle.textContent = poem.title;
    modalPoemAuthor.textContent = `by ${poem.author}`;
    modalPoemText.innerHTML = poem.text;
    
    // Set background image
    const poemDisplay = document.querySelector('.poem-display');
    poemDisplay.style.backgroundImage = `url(${poem.background})`;
    
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Close poem modal
function closePoemModal() {
    modal.classList.remove('active');
    document.body.style.overflow = '';
}

// Event listeners
modalClose.addEventListener('click', closePoemModal);
modalOverlay.addEventListener('click', closePoemModal);

// Close modal on Escape key
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) {
        closePoemModal();
    }
});

// Smooth scrolling for anchor links
document.addEventListener('DOMContentLoaded', () => {
    generatePoemCards();
    
    // Add some entrance animations
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe poem cards for entrance animation
    setTimeout(() => {
        document.querySelectorAll('.poem-card').forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            card.style.transitionDelay = `${index * 0.1}s`;
            observer.observe(card);
        });
    }, 100);
});

// Add some interactive effects
document.addEventListener('mousemove', (e) => {
    const cards = document.querySelectorAll('.poem-card');
    cards.forEach(card => {
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const rotateX = (y - centerY) / 20;
            const rotateY = (centerX - x) / 20;
            
            card.style.transform = `translateY(-8px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        }
    });
});

// Reset card transform when mouse leaves
document.addEventListener('mouseleave', () => {
    document.querySelectorAll('.poem-card').forEach(card => {
        card.style.transform = '';
    });
});
